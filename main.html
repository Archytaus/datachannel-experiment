<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    
    <link rel="stylesheet" href="styles/main.css"></link>
    
    <title>Data Channel Experiment</title>
  </head>
  <body>
    
    <!-- TODO: Move into own template file -->
    <script type="text/x-handlebars" data-template-name="application">
      <header id="header">
        <h1>Data Channel Experiment</h1>
      </header>

      {{outlet}}
    </script>
      
    <!-- TODO: Move into own template file -->
    <script type="text/x-handlebars" data-template-name="login">
      <h2>Login</h2>
      
      <label>Player Name</label>
      {{view Ember.TextField valueBinding="view.player_name"}}
      <button {{action submit target="view" }}type="submit">Done</button>
    </script>

    <!-- TODO: Move into own template file -->
    <script type="text/x-handlebars" data-template-name="rooms">
      {{#if Space.PlayerName}}
        <div>
          <span> Welcome {{Space.PlayerName}} </span>
        </div>
      {{/if}}

      <table id="game_rooms">
        <thead>
          <tr>
            <th>Name</th>
            <th>Capacity</th>
          </tr>
        </thead>
        <tbody>

          {{#each room in controller}}
            <tr>
              <td {{action joinRoom room target="controller"}}>{{room.name}}</td>
              <td>{{room.player_count}} / {{room.capacity}}</td>
            </tr>
          {{/each}}
        
        </tbody>
      </table>
    </script>
    
    <!-- TODO: Move into own template file -->
    <script type="text/x-handlebars" data-template-name="game-view">
      <div id="canvas-container"></div>

      <b>Speed:</b> {{Space.PlayerInfo.speed}} / {{Space.PlayerInfo.max_speed}}
    </script>

    <script type="text/javascript" src="./js/lib/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="./js/lib/handlebars.js"></script>
    <script type="text/javascript" src="./js/lib/ember-1.0.0-rc.1.js"></script>
    <script src="js/ember-app.js"></script>
    
    <script type="text/javascript" src="./js/lib/underscore.js"></script>
    <script type="text/javascript" src="./js/lib/three.min.js"></script>
    <script type="text/javascript" src='./js/lib/THREEx.KeyboardState.js'></script>
    <script type="text/javascript" src='./js/lib/cannon.js'></script>

    <script type="text/javascript" src="./js/util.js"></script>
    <script type="text/javascript" src="./js/adapter.js"></script>
    <script type="text/javascript" src="./js/networkModule.js"></script>
    
    <script type="text/javascript" src="./js/scene.js"></script>
    <script type="text/javascript" src="./js/entity.js"></script>
    <script type="text/javascript" src="./js/demo.js"></script>
    
    <script type="text/javascript" src="./fonts/helvetiker_regular.typeface.js"></script>
  </body>
</html>